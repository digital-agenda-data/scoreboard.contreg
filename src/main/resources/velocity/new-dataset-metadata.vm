@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:    <http://www.w3.org/2001/XMLSchema#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix dcat:   <http://www.w3.org/ns/dcat#> .
@prefix dcterms:    <http://purl.org/dc/terms/> .
@prefix org:    <http://www.w3.org/ns/org#> .
@prefix foaf:   <http://xmlns.com/foaf/0.1/> .
@prefix odp:    <http://ec.europa.eu/open-data/ontologies/ec-odp#> .
@prefix adms:   <http://www.w3.org/ns/adms#> .
@prefix schema: <http://schema.org/> .
@prefix vcard:  <http://www.w3.org/2006/vcard/ns#> .
@prefix skos:   <http://www.w3.org/2004/02/skos/core#> .
@prefix sdmx:   <http://purl.org/linked-data/sdmx#> .
@prefix sdmx-attribute: <http://purl.org/linked-data/sdmx/2009/attribute#> .
@prefix sdmx-concept:   <http://purl.org/linked-data/sdmx/2009/concept#> .
@prefix sdmx-dimension: <http://purl.org/linked-data/sdmx/2009/dimension#> .
@prefix sdmx-measure:   <http://purl.org/linked-data/sdmx/2009/measure#> .
@prefix sdmx-subject:   <http://purl.org/linked-data/sdmx/2009/subject#> .

@prefix ld-api: <http://purl.org/linked-data/api/vocab#> .

@prefix dad-attribute:  <http://semantic.digital-agenda-data.eu/def/dsd/scoreboard/attribute/> .
@prefix dad-class:  <http://semantic.digital-agenda-data.eu/def/class/> .
@prefix dad-codelist:   <http://semantic.digital-agenda-data.eu/codelist/> .
@prefix dad-concept:    <http://semantic.digital-agenda-data.eu/def/concept/> .
@prefix dad-def:    <http://semantic.digital-agenda-data.eu/def/> .
@prefix dad-dimension:  <http://semantic.digital-agenda-data.eu/def/dsd/scoreboard/dimension/> .
@prefix dad-dsd:    <http://semantic.digital-agenda-data.eu/def/dsd/> .
@prefix dad-prop:   <http://semantic.digital-agenda-data.eu/def/property/> .

# DATASET METADATA
<http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}>
    rdf:type qb:DataSet , dcat:Dataset ;
# DCAT Mandatory
    dcterms:title   "${DATASET_TITLE}"@en ;
    dcterms:description "${DATASET_DESCRIPTION}"@en ;
# QB recommended properties
    rdfs:label  "${DATASET_TITLE}"@en ;
    rdfs:comment    "${DATASET_DESCRIPTION}"@en ;
    dcterms:subject sdmx-subject:3.3.3 ;
        # TODO: here all concepts from dcat:theme could be listed

    dcterms:license    #if(!$DATASET_LICENSE || "$DATASET_LICENSE.trim()" == "")<http://ec.europa.eu/geninfo/legal_notices_en.htm#copyright>#{else}<${DATASET_LICENSE}>#end ;
    
# DCAT-AP recommended properties
    dcat:contactPoint   <http://publications.europa.eu/resource/authority/corporate-body/CNECT/F4> ;
    dcat:distribution   <http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}/distribution/download> ;
    dcat:distribution   <http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}/distribution/visualisation> ;
    dcat:keyword    
        "information-society"@en ,
        "digital agenda"@en ,
        "${DATASET_KEYWORD}"@en ;

    dcterms:publisher   <http://publications.europa.eu/resource/authority/corporate-body/CNECT> ;
    dcat:theme  
        <http://publications.europa.eu/resource/authority/data-theme/GOVE> ,
        <http://publications.europa.eu/resource/authority/data-theme/SOCI> ,
        <http://publications.europa.eu/resource/authority/data-theme/TECH> ;

# DCAT-AP optional properties / DCAT recommended properties
    dcterms:accessRights    <http://publications.europa.eu/resource/authority/access-right/PUBLIC>;
    dcat:landingPage    <http://digital-agenda-data.eu/> ;
    foaf:page   <http://digital-agenda-data.eu/> ;
    dcat:accrualPeriodicity    #if(!$DATASET_PERIODICITY || "$DATASET_PERIODICITY.trim()" == "")<http://publications.europa.eu/resource/authority/frequency/ANNUAL_2>#{else}<${DATASET_PERIODICITY}>#end ;
    dcterms:language <http://publications.europa.eu/resource/authority/language/ENG> ;
    dcterms:spatial  <http://publications.europa.eu/resource/authority/country/EUR> ;
    dcterms:temporal    [ schema:startDate "2002-01-01"^^xsd:date ] ;
    dcterms:identifier  "${DATASET_IDENTIFIER}" ;
#   adms:identifier    [ skos:notation "${DATASET_IDENTIFIER}" ]
#   dcterms:issued  "2011-05-01T00:00:00Z"^^xsd:dateTime ;
    dcterms:issued    #if(!$DATASET_ISSUED || "$DATASET_ISSUED.trim()" == "")"2011-05-01T00:00:00Z"^^xsd:dateTime#{else}"${DATASET_ISSUED}"#end ;
    dcterms:modified    "${DATASET_MODIFIED}"^^xsd:dateTime ;

# QB
    qb:structure    #if(!$DATASET_DSD || "$DATASET_DSD.trim()" == "")<http://semantic.digital-agenda-data.eu/def/dsd/scoreboard>#{else}<${DATASET_DSD}>#end ;

# Linked data
    foaf:isPrimaryTopicOf   <http://semantic.digital-agenda-data.eu/API/dataset/${DATASET_IDENTIFIER}.rdf> ;

# ODP
    adms:status #if(!$DATASET_STATUS || "$DATASET_STATUS.trim()" == "")<http://purl.org/adms/status/UnderDevelopment>#{else}<${DATASET_STATUS}>#end .

# RELATED ENTITIES

# License
<http://ec.europa.eu/geninfo/legal_notices_en.htm#copyright>    dcterms:title   "Europa Legal Notice" .

# DCAT Distribution
<http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}/distribution/download> 
    rdf:type    dcat:Distribution ;
    dcat:accessURL  <http://digital-agenda-data.eu/datasets/${DATASET_IDENTIFIER}#download> ;
    dcterms:description "Download instructions";
    dcterms:type    <http://publications.europa.eu/resource/authority/distribution-type/DOWNLOADABLE_FILE> ;
    dcterms:format  <http://publications.europa.eu/resource/authority/file-type/RDF_TURTLE> ;
    dcat:mediaType  "text/turtle" .

# DCAT Distribution
<http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}/distribution/visualisation>
    rdf:type    dcat:Distribution ;
    dcterms:type    <http://publications.europa.eu/resource/authority/distribution-type/VISUALIZATION> ;
    dcat:accessURL  <http://digital-agenda-data.eu/datasets/${DATASET_IDENTIFIER}> ;
    dcterms:description "Dataset visualisation".

# LD API page
<http://semantic.digital-agenda-data.eu/API/dataset/${DATASET_IDENTIFIER}.rdf>
    rdf:type    ld-api:Page ;
    foaf:primaryTopic   <http://semantic.digital-agenda-data.eu/dataset/${DATASET_IDENTIFIER}> ;
    ld-api:definition   <http://semantic.digital-agenda-data.eu/API/meta/dataset/_id.rdf> ;
    ld-api:extendedMetadataVersion  <http://semantic.digital-agenda-data.eu/API/dataset/${DATASET_IDENTIFIER}.rdf?_metadata=all> .

# Organization (contact point)
<http://publications.europa.eu/resource/authority/corporate-body/CNECT/F4>
    a vcard:Organization, foaf:Organization;
    rdfs:label "DG CONNECT - Digital Economy and Skills (Unit F.4)" ;
    foaf:mbox   "mailto:CNECT-F4@ec.europa.eu" ;
    foaf:name   "DG CONNECT - Digital Economy and Skills (Unit F.4)" ;
    foaf:workplaceHomepage  <https://ec.europa.eu/digital-single-market/en/dg-connect> .

